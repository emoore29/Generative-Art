<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Generative Art | Emma Moore</title>
    <link rel="stylesheet" href="././styles.css" />
  </head>
  <body>
    <header class="header">
      <h1>Generative Art</h1>
    </header>
    <div id="gallery"></div>
    <footer class="footer">
      <p>
        Created by
        <a target="_blank" href="https://emmamoore.vercel.app/">Emma Moore</a>
      </p>
    </footer>
  </body>
  <script type="text/javascript">
    // update array when a new canvas is added
    window.canvasScripts = [
      { maze: "Maze" },
      { joydiv: "Joy Division" },
      { chance: "Chance" },
    ];

    function addScripts() {
      // add script elements for each canvas script in the array
      canvasScripts.forEach((file) => {
        const scriptName = Object.keys(file)[0]; // Get the filename key
        const script = document.createElement("script");
        script.src = `art/${scriptName}/${scriptName}.js`;
        document.body.appendChild(script);
      });
    }

    addScripts();
  </script>
  <script>
    // Reference to the container div
    var gallery = document.getElementById("gallery");

    window.canvasScripts.forEach((file) => {
      const scriptName = Object.keys(file)[0]; // Get the filename key

      // Create frame div
      var div = document.createElement("div");
      div.className = "frame";

      // Link to details page
      var link = document.createElement("a");
      link.className = "link";
      link.innerHTML = file[scriptName];
      link.href = `art/${scriptName}/${scriptName}.html`;

      // Rerun script button
      var refreshBtn = document.createElement("button");
      refreshBtn.className = "refreshBtn";

      // Create canvas with id = canvas name
      var canvas = document.createElement("canvas");
      canvas.id = scriptName;

      // Append canvas and link to frame
      div.appendChild(canvas);
      div.appendChild(link);

      // Append frame to gallery
      gallery.appendChild(div);
    });
  </script>
</html>
