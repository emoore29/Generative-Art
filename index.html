<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Generative Art | Emma Moore</title>
    <link rel="stylesheet" href="././styles.css" />
  </head>
  <body>
    <header class="header">
      <h1>Generative Art</h1>
      <p>
        Originally inspired by
        <a target="_blank" href="https://generativeartistry.com/tutorials/"
          >Generative Artistry</a
        >'s tutorials, I will be adding to this page as I learn to create my own
        art with code.
      </p>
      <button onClick="window.location.reload();">Refresh Page</button>
    </header>
    <div id="gallery"></div>
    <footer class="footer">
      <p>
        Created by
        <a target="_blank" href="https://emmamoore.vercel.app/">Emma Moore</a>
      </p>
    </footer>
  </body>
  <script type="text/javascript">
    // update array when a new canvas is added
    window.canvasScripts = ["maze", "chance", "joydiv"];

    function addScripts() {
      // add script elements for each canvas script in the array
      canvasScripts.forEach((filename) => {
        const script = document.createElement("script");
        script.src = `art/${filename}/${filename}.js`;
        document.body.appendChild(script);
      });
    }

    addScripts();

    function reloadScripts() {
      // remove existing gallery canvases
      const gallery = document.getElementById("gallery");
      gallery.innerHTML = "";

      addScripts();
    }
  </script>
  <script>
    // Reference to the container div
    var gallery = document.getElementById("gallery");

    window.canvasScripts.forEach((filename) => {
      // Create frame div
      var div = document.createElement("div");
      div.className = "frame";

      var link = document.createElement("a");
      link.className = "link";
      link.innerHTML = "Test";
      link.href = `art/${filename}/${filename}.html`;

      // Create canvas with id = canvas name
      var canvas = document.createElement("canvas");
      canvas.id = filename;

      // Append canvas to frame div
      div.appendChild(canvas);
      div.appendChild(link);

      // Append frame to gallery
      gallery.appendChild(div);
    });
  </script>
</html>
